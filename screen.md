# screen 
> `screen` 是一个非常有用的命令行工具，它允许你在 Unix 或 Linux 系统上创建、使用和管理多个 shell 会话。使用 `screen`，你可以启动多个 shell 会话，切换会话，断开和重新连接到会话，以及在没有物理访问终端的情况下保持程序在后台运行。以下是一些 `screen` 的基础和常用命令：

### 启动 Screen

你可以简单地通过输入 `screen` 来启动它：

```bash
screen
```

### 基础命令

一旦 `screen` 启动，你可以使用以下命令：

- **创建新的 Window**：
  - `Ctrl-a c`: 创建一个新的 `screen` 窗口。
  
- **在 Window 之间切换**：
  - `Ctrl-a n`: 切换到下一个 `screen` 窗口。
  - `Ctrl-a p`: 切换到上一个 `screen` 窗口。
  - `Ctrl-a [Window编号]`: 切换到特定的 `screen` 窗口。

- **分离和恢复 Screen 会话**：
  - `Ctrl-a d`: 分离当前 `screen` 会话。
  - `screen -r [会话编号或名称]`: 重新连接到一个之前的 `screen` 会话。

- **查看和选择 Window**：
  - `Ctrl-a "`: 显示所有窗口的列表，可以选择一个切换到。

- **关闭 Window**：
  - `Ctrl-a k`: 关闭当前的 `screen` 窗口。

- **分屏**：
  - `Ctrl-a S`: 水平分屏。
  - `Ctrl-a |`: 垂直分屏。
  - `Ctrl-a Tab`: 在分屏窗口间切换。

- **命名和查看所有 Screen 会话**：
  - `screen -S [会话名称]`: 启动一个新的 `screen` 会话并赋予一个名称。
  - `screen -ls`: 列出所有的 `screen` 会话。
  - `screen -r [会话名称]`: 重新连接到一个命名的 `screen` 会话。

### 高级命令

- **锁定 Screen 会话**：
  - `Ctrl-a x`: 锁定当前的 `screen` 会话。

- **滚动和复制模式**：
  - `Ctrl-a [`: 进入复制/滚动模式，在此模式下你可以使用方向键滚动屏幕。
  - `Enter`: 在复制模式下，按一次开始选择，按第二次复制选择的文本。
  - `Ctrl-a ]`: 粘贴复制的文本。

- **命名 Window**：
  - `Ctrl-a A`: 给当前窗口命名，有助于识别多个窗口。

- **查看硬件状态**：
  - `Ctrl-a t`: 显示当前硬件状态，如时间、负载、电池等。

- **窗口布局管理**：
  - `Ctrl-a W`: 打开或关闭窗口栏，它在屏幕顶部显示所有窗口的概览。

### 结束 Screen

要结束 `screen` 会话，你可以关闭所有窗口或直接输入：

```bash
exit
```

在每个 `screen` 窗口中。也可以在一个窗口中使用：

```bash
Ctrl-a \
```

然后确认要结束所有窗口和会话。


### 杀死一个会话
如果你想要杀死一个`screen`会话，你可以按照以下步骤进行：

#### 方法1：在`screen`内部杀死会话

1. 重新连接到`screen`会话（如果你当前不在该会话中）：
   
   ```bash
   screen -r [会话名称或ID]
   ```
   
   如果你不确定会话的名称或ID，你可以用`screen -ls`来列出所有的`screen`会话。

2. 一旦你在`screen`会话中，你可以使用以下命令来杀死当前会话：

   - 退出当前窗口：`Ctrl-a k`，然后按`y`确认。
   - 或者在`screen`会话中直接输入`exit`。

   如果这是会话中的最后一个窗口，整个`screen`会话将会被结束。

#### 方法2：外部杀死`screen`会话

如果你想要从外部（不在`screen`会话中）杀死一个`screen`会话，你可以这样做：

1. 首先，用`screen -ls`列出所有运行中的`screen`会话，找到你想要杀死的会话的ID或名称。

2. 使用下面的命令杀死会话：

   ```bash
   screen -X -S [会话名称或ID] quit
   ```
   
   例如，如果你的会话ID是`12345`，则你可以使用以下命令来杀死它：

   ```bash
   screen -X -S 12345 quit
   ```
   
   或者，如果你的会话名称是`mysession`，使用：

   ```bash
   screen -X -S mysession quit
   ```
   
请注意在实际操作时，要确认你杀死的是正确的`screen`会话，以防意外关闭重要的工作。


### 结论

这些只是 `screen` 的基础和常用命令，这个工具有更多高级和定制功能，你可以通过阅读官方手册来了解更多信息：

```bash
man screen
```
